<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Super Unit Converter</title>
    <style>
        :root {
            --primary: #2ecc71;
            --bg: #121212;
            --card: #1e1e1e;
            --text: #e0e0e0;
            --input-bg: #2a2a2a;
        }

        body {
            font-family: 'Segoe UI', sans-serif;
            background-color: #e5ecf3;
            color: var(--text);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
        }

        .converter-card {
            background: #bac1c8;
            padding: 30px;
            border-radius: 24px;
            box-shadow: 0 20px 50px rgba(0,0,0,0.5);
            width: 100%;
            max-width: 450px;
            border: 1px solid #565656;
        }

        h2 {
            text-align: center;
            margin-bottom: 25px;
            color: #0000ff;
            letter-spacing: 1px;
        }

        .group { margin-bottom: 20px; }

        label {
            display: block;
            margin-bottom: 8px;
            font-size: 15px;
            color: #181818;
            text-transform: uppercase;
        }

        select, input {
            width: 100%;
            padding: 14px;
            border: 1px solid #8a8989;
            border-radius: 12px;
            font-size: 16px;
            background: #ffffff;
            color: rgb(100, 100, 100);
            box-sizing: border-box;
        }

        input::placeholder {
            color: #b4b5b4;
        }

        select:focus, input:focus {
            outline: none;
            border-color: var(--primary);
        }

        .grid-inputs {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        .result-area {
            margin-top: 25px;
            padding: 25px;
            background: linear-gradient(145deg, #f1f0f0, #e7e7e7);
            border-radius: 16px;
            text-align: center;
            border: 1px solid #5b5b5b;
        }

        .result-value {
            font-size: 28px;
            font-weight: bold;
            color: #0000ff;
            word-break: break-all;
        }

        .result-label {
            font-size: 14px;
            color: #676767;
            margin-top: 8px;
        }
    </style>
</head>
<body>
<div class="converter-card">
    <a href="/"><strong>Back</strong></a>
    <h2>Unit Converter</h2>

    <div class="group">
        <label>Silahkan Pilih Kategori</label>
        <select id="category" onchange="updateUnits()">
            <option value="length">Panjang (m)</option>
            <option value="weight">Berat (kg)</option>
            <option value="area">Luas (m²)</option>
            <option value="volume">Volume (L/m³)</option>
            <option value="temp">Suhu (°C)</option>
        </select>
    </div>

    <div class="group">
        <label>Nilai</label>
        <input type="number" id="inputValue" placeholder="Ketik nilai disini..." oninput="convert()">
    </div>

    <div class="grid-inputs">
        <div class="group">
            <label>Dari</label>
            <select id="fromUnit" onchange="convert()"></select>
        </div>
        <div class="group">
            <label>Ke</label>
            <select id="toUnit" onchange="convert()"></select>
        </div>
    </div>

    <div class="result-area">
        <div class="result-value" id="resultValue">0</div>
        <div id="resultLabel" class="result-label">Pilih satuan untuk hasil</div>
    </div>
</div>

<script>
    const unitData = {
        length: {
            base: 'meter',
            units: { 'kilometer': 1000, 'meter': 1, 'centimeter': 0.01, 'milimeter': 0.001, 'mil': 1609.34, 'inci': 0.0254, 'kaki (ft)': 0.3048 }
        },
        weight: {
            base: 'kg',
            units: { 'ton': 1000, 'kg': 1, 'gram': 0.001, 'mg': 0.000001, 'pon (lb)': 0.453592, 'ons': 0.0283495 }
        },
        area: {
            base: 'm2',
            units: { 'km²': 1000000, 'hektar': 10000, 'm²': 1, 'cm²': 0.0001, 'mm²': 0.000001, 'ekar (acre)': 4046.86 }
        },
        volume: {
            base: 'liter',
            units: { 'm³': 1000, 'liter (L)': 1, 'ml': 0.001, 'galon (US)': 3.78541, 'cup': 0.24, 'sendok makan': 0.015 }
        },
        temp: {
            units: ['Celsius', 'Fahrenheit', 'Kelvin']
        }
    };

    function updateUnits() {
        const cat = document.getElementById('category').value;
        const fromSel = document.getElementById('fromUnit');
        const toSel = document.getElementById('toUnit');
        
        fromSel.innerHTML = '';
        toSel.innerHTML = '';

        const units = (cat === 'temp') ? unitData.temp.units : Object.keys(unitData[cat].units);

        units.forEach(unit => {
            fromSel.options.add(new Option(unit, unit));
            toSel.options.add(new Option(unit, unit));
        });

        if(toSel.options.length > 1) toSel.selectedIndex = 1;
        convert();
    }

    function convert() {
        const cat = document.getElementById('category').value;
        const val = parseFloat(document.getElementById('inputValue').value);
        const from = document.getElementById('fromUnit').value;
        const to = document.getElementById('toUnit').value;
        const resDisp = document.getElementById('resultValue');
        const resLbl = document.getElementById('resultLabel');

        if (isNaN(val)) {
            resDisp.innerText = '0';
            resLbl.innerText = 'Hasil konversi';
            return;
        }

        let result;
        if (cat === 'temp') {
            result = convertTemp(val, from, to);
        } else {
            const baseValue = val * unitData[cat].units[from];
            result = baseValue / unitData[cat].units[to];
        }

        // Format hasil agar rapi
        resDisp.innerText = formatResult(result);
        resLbl.innerText = `${from} ke ${to}`;
    }

    function formatResult(num) {
        if (num === 0) return "0";
        // Jika angka sangat kecil, gunakan notasi ilmiah, jika tidak gunakan maks 6 desimal
        return (Math.abs(num) < 0.000001 || Math.abs(num) > 1000000000) 
            ? num.toExponential(4) 
            : parseFloat(num.toFixed(6)).toString();
    }

    function convertTemp(v, f, t) {
        let c;
        if (f === 'Celsius') c = v;
        else if (f === 'Fahrenheit') c = (v - 32) * 5/9;
        else if (f === 'Kelvin') c = v - 273.15;

        if (t === 'Celsius') return c;
        else if (t === 'Fahrenheit') return (c * 9/5) + 32;
        else if (t === 'Kelvin') return c + 273.15;
    }

    updateUnits();
</script>

</body>
</html>